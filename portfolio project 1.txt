--Adding new column with Default date 
--should be today and should include the current time.


ALTER TABLE ITEMS.EMPLOYEE
ADD DATE_AS_TIMESTAMP
TIMESTAMP WITH TIME ZONE;


UPDATE ITEMS.EMPLOYEE
SET DATE_AS_TIMESTAMP= CAST(ACQUIRED_DATE AS TIMESTAMP WITH TIME ZONE);


ALTER TABLE ITEMS.EMPLOYEE
ADD CONSTRAINT chk_items_employee_coml 
CHECK (CO_EMAIL LIKE ('%acdo.com'));

-- CHECKING CHECK CONSTRAINT

INSERT INTO ITEMS.EMPLOYEE (EMP_ID,CO_MOBILE,CO_EMAIL,ACQUIRED_DATE,SUPERVISOR_ID)
VALUES('9','111-222-2228','spjohns@acdo.com','1-MAR-2021','3');

--APPLYING WHERE CONDITION

SELECT* FROM ITEMS.EMPLOYEE;
SELECT ACQUIRED_DATE from ITEMS.Employee
WHERE ACQUIRED_DATE BETWEEN '01-JUL-20' AND'30-SEP-20';


--view

create view V_INV6
as
SELECT*FROM ITEMS.EMPLOYEE e
JOIN items.it_assets i
on e.inv_id=i.it_inv_id
WHERE reportingdate = EOMONTH(DATEADD(month, -1, n.ReportingDate))

select*from V_INV6;